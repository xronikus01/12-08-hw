# 12.8. Резервное копирование баз данных — Гаран Степан


---

---

## Задание 1. Резервное копирование

### 1.1. Восстановление данных в полном объёме за предыдущий день
Подходит **полное резервное копирование (Full backup)** один раз в сутки (например, ночью).
Тогда для восстановления “за предыдущий день” достаточно взять последний полный бэкап и развернуть его.

Чтобы уменьшить объём хранения, часто используют схему:
- периодический **полный бэкап** (например, раз в неделю),
- между ними — **дифференциальные** или **инкрементные** бэкапы.

Но если требование — именно “полный объём за предыдущий день” и важна простота восстановления, то ежедневный full backup — самый прямой вариант.


### 1.2. Восстановление данных за час до предполагаемой поломки
Подходит восстановление **на момент времени (Point-in-Time Recovery, PITR)**:
- делаем **полный бэкап** (например, раз в сутки),
- дополнительно сохраняем **журналы изменений** (WAL для PostgreSQL / binlog для MySQL),
- при аварии восстанавливаем full backup и “докатываем” журналы до нужного времени (например, до T-1 час).

Так можно получить состояние базы “за час до поломки” с точностью до минут/секунд (в зависимости от частоты и режима логирования).


### 1.3.* Мгновенное переключение на работающую/починенную БД
...

---

## Задание 2. PostgreSQL

### 2.1. Пример команды резервирования и восстановления (pg_dump/pg_restore)
...

### 2.1.* Автоматизация процесса
...

---

## Задание 3. MySQL

### 3.1. Пример команды инкрементного резервного копирования
...

### 3.1.* Когда реплика выгоднее обычного бэкапа?
...

---
